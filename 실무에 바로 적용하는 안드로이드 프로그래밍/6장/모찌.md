# 6. 두번째 액티비티 만들기

- 새로운 액티비티와 이것의 새 레이아웃을 생성하는 방법
- 액티비티에서 다른 액티비티를 시작시키는 방법. 액티비티를 시작한다는 것은 액티비티의 인스턴스를 생성한고 이것의 onCreate 함수를 호출하도록 안드로이드 운영체제에 요청함을 의미
- 시작시킨 부모 액티비티와 시작된 자식 액티비티 간에 데이터를 전달하는 방법

## 액티비티 시작하기

- startActivity(Intent)를 호출하면 이 호출은 안드로이드 운영체제에게 전달된다.
    - startActivity(Intent) → ActivityManager라고 하는 운영체제의 컴포넌트로 전달
    - ActivityManager는 해당 액티비티의 인스턴스를 생성하고 이 인스턴스의 OnCreate 함수 호출
    - 그럼 AcitvityManager가 어떻게 알지? 이 정도는 Intent 매개변수로 알수 있음

### 인텐트로 통신하기

- 인텐트는 컴포넌트가 운영체제와 통신하는 데 사용할 수 있는 객체
- 인텐트는 다목적 통신 도구
- ActivityManager에 알려주려고 인텐트를 사용
- Intent(packageContext: Context, class: Class<?>)

### 명시적 인텐트와 암시적 인텐트

- Context 객체와 Class 객체를 사용해서 생성하는 Intent는 명시적 인텐트
    - 같은 앱 내부에 있는 두개의 액티비티가 앱 외부의 activityManager를 통해서 통신해야 한다.
    - 한 애플리케이션의 액티비티에서 다른 애플리케이션의 액티비티를 시작시키려면 암시적 인텐트 생성(15장

## 액티비티 간의 데이터 전달

### 인텐트 엑스트라 사용하기

- 엑스트라는 호출하는 액티비티가 인텐트에 포함시킬 수 있는 임의의 데이터로 생성자 인자로 생각할 수 있다. → ?
- 액스트라는 키와 값이 한쌍으로 된 구조로 MainActivity.onSaveInstanceState에서 currentIndex의 값을 저장하기 위해 사용했던 Bundle 객체의 구조와 동일하다
- 액티비티는 코드 여러 곳에서부터 시작될 수 있다. → 엑스트라 키는 엑스트라의 데이터를 읽어서 사용하는 액티비티에 정의해야한다.

## 자식 액티비티로부터 결과 돌려받기

### 결과 데이터 설정하기

설정한 데이터를 처리하기 위해 MainActivity에서 onActivityResult(Int, Int, Intent)를 오버라이딩하여 구현하는 것

# 안드로이드가 액티비티를 어떻게 알가?

- 앱 론처 액티비티를 시작시킴  → infilter 속성으로 정의
- 론처 앱에서 백 버튼을 누르면  론터 화면으로 돌아감
- activityManager가 백스택을 유지한다는 점과 이러한 백 스택이 앱의 액티비티만 위한 것이 아님
- 모든 앱의 액티비티들이 백 스택을 공유, 이때 activityManager가 개입됨